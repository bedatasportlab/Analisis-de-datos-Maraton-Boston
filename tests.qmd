---
title: "Tests y Pruebas de Código"
author:
  - "Autor 1"
  - "Autor 2"
  - "Autor 3"
date: "2025-10-06"
format: html
toc: false
number-sections: false
lang: es
abstract: "Documento auxiliar para testear y depurar fragmentos de código relacionados con el análisis de datos de la Maratón de Boston."
---

# Pruebas de Código

Este documento está destinado exclusivamente a la ejecución y prueba de fragmentos de código, sin afectar el informe principal.

## Importacion de librerias

```{r}
#| label: setup
#| include: false
library(readr)
library(dplyr)
library(ggplot2)
library(tidyr)
```

## Lectura de Dataset Resultados Maraton Boston 2016

```{r}
df <- read_csv("data/results2016.csv")

# Vista previa
head(df)

glimpse(df)
```

### Problemas detectados

```{r}
  print(problems(df), n = Inf)
  problems(df) |> distinct(expected, actual)
```

### Solventar problemas de lectura
```{r}

df <- read_csv("data/results2016.csv", na = c("-", "DNF", "NULL", ""))

# Vista previa (no saltan warnings)
head(df)

```


## Informacion general

```{r}

# Dimensiones del dataset
dim(df)          # Número de filas y columnas

# Nombres de columnas
names(df)

# Estructura (tipo de dato de cada columna)
str(df)

# Vista previa de las primeras filas
head(df)

# Vista general (tamaño + tipos + resumen numérico básico)
glimpse(df)      # del paquete dplyr


```

### Metricas de calidad de los datos 

```{r}
# Métricas de calidad de los datos
summary(df)

# Valores null
sapply(df, function(x) sum(is.na(x)))

# Valores únicos por columna
sapply(df, function(x) length(unique(x)))

```

## Estadísticas descriptivas

```{r}

# Estadísticas descriptivas para columnas numéricas
summary(select(df, where(is.numeric)))

```
```{r}
# Porcentaje de valores NA por columna
df %>%
  summarise(across(everything(), ~sum(is.na(.)))) %>%
  pivot_longer(everything(), names_to = "variable", values_to = "n_missing") %>%
  ggplot(aes(x = reorder(variable, -n_missing), y = n_missing)) +
  geom_col(fill = "steelblue") +
  coord_flip() +
  labs(title = "Valores faltantes por variable", x = "", y = "Número de NAs")

```